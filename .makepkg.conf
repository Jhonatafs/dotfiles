# === OTIMIZAÇÃO DE COMPILAÇÃO (PORTÁVEL) ===

# 1. Compilação Paralela Dinâmica
# O $(nproc) detecta quantos núcleos a máquina tem na hora da execução.
MAKEFLAGS="-j$(nproc)"

# 2. Compressão Otimizada
# O Arch agora usa ZSTD por padrão (melhor equilíbrio).
# Adicionamos -T0 para usar todos os núcleos ao comprimir o pacote final.
COMPRESSZST=(zstd -c -T0 --ultra -20 -)

# Se precisar gerar pacotes .xz (legado), usa todos os núcleos também:
COMPRESSXZ=(xz -c -z - --threads=0)

# 3. Organização de Pastas (Mantém sua home limpa)
# Define onde os pacotes são compilados e salvos.
# Vamos jogar tudo para uma pasta temporária ou cache específica.
BUILDDIR=/tmp/makepkg
PKGDEST=$HOME/.cache/makepkg/pkg
SRCDEST=$HOME/.cache/makepkg/src
SRCPKGDEST=$HOME/.cache/makepkg/srcpkg
